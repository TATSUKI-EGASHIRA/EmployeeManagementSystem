{"ast":null,"code":"var _jsxFileName = \"/Users/tatsuki/EmployeeManagementSystem/ems/src/components/SideMenu.tsx\",\n  _s = $RefreshSig$();\n// import React, { useState } from \"react\";\n// import { useSelector } from \"react-redux\";\n// import { RootState } from \"../store\";\n// import \"./SideMenu.css\";\n// import CloseIcon from \"@mui/icons-material/Close\";\n// import PersonIcon from \"@mui/icons-material/Person\";\n// import EditIcon from \"@mui/icons-material/Edit\";\n\n// function SideMenu() {\n//   const [isOpen, setIsOpen] = useState(false);\n\n//   // Redux ストアから従業員情報とプロファイル画像URLを取得\n//   const {\n//     employeeNumber,\n//     employeeName,\n//     employeeFurigana,\n//     employeeComment,\n//     employeeImg,\n//   } = useSelector((state: RootState) => {\n//     const userData = state.auth.userData || [];\n//     return {\n//       employeeNumber: userData[0] || \"\",\n//       employeeName: userData[1] || \"\",\n//       employeeFurigana: userData[2] || \"\",\n//       employeeImg: userData[5] || \"/Noimage.png\",\n//       employeeComment: userData[8] || \"\",\n//     };\n//   });\n\n//   const menuWidth = 350; // ここでサイドメニューの幅を定義\n\n//   const toggleMenu = () => {\n//     setIsOpen(!isOpen);\n//   };\n\n//   return (\n//     <>\n//       {/* オーバーレイ */}\n//       {isOpen && (\n//         <div\n//           className=\"overlay\"\n//           onClick={toggleMenu} // オーバーレイをクリックするとメニューが閉じる\n//         />\n//       )}\n\n//       <div className=\"menuToggleArea\">\n//         {/* メニュートグルボタン */}\n//         <button\n//           className=\"menuToggle\"\n//           onClick={toggleMenu}\n//           style={{\n//             left: isOpen ? `${menuWidth}px` : \"0\", // isOpenがtrueならメニューの幅の位置に、falseなら0の位置に\n//           }}\n//         >\n//           {isOpen ? (\n//             <p className=\"toogleText\">\n//               <CloseIcon />\n//               CLOSE\n//             </p>\n//           ) : (\n//             <p className=\"toogleText\">\n//               <PersonIcon />\n//               MY PAGE\n//             </p>\n//           )}\n//         </button>\n\n//         {/* サイドメニュー */}\n//         <div\n//           className=\"sideMenu\"\n//           style={{\n//             width: `${menuWidth}px`, // メニューの幅\n//             transform: isOpen ? \"translateX(0)\" : `translateX(-${menuWidth}px)`, // isOpenがtrueなら表示、falseなら隠す\n//           }}\n//         >\n//           {/* メニューコンテンツ */}\n//           <div className=\"SideProfileContainer\">\n//             <h1 className=\"sideTitle\">Profile</h1>\n//             <div className=\"editBtn\">\n//               <EditIcon />\n//             </div>\n//             <div className=\"profileImageContainer\">\n//               <img className=\"memberFhoto\" src={employeeImg} alt=\"Profile\" />\n//             </div>\n//             <p className=\"employeeNumber\">{employeeNumber}</p>\n//             <p className=\"employeeName\">{employeeName}</p>\n//             <p className=\"employeeFurigana\">{employeeFurigana}</p>\n//             <p className=\"employeeComment\">{employeeComment}</p>\n//           </div>\n//         </div>\n//       </div>\n//     </>\n//   );\n// }\n\n// export default SideMenu;\n\nimport React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SideMenu() {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedComment, setEditedComment] = useState(\"\");\n\n  // Redux ストアからユーザーデータを取得\n  const userData = useSelector(state => state.auth.userData);\n  if (!userData) {\n    // userDataがnullまたは未定義の場合はローディングを表示\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 12\n    }, this);\n  }\n  const employeeNumber = userData[0];\n  const originalComment = userData[8];\n  const handleEditClick = () => {\n    setIsEditing(true);\n    setEditedComment(originalComment);\n  };\n  const handleSaveClick = async () => {\n    // スプレッドシートAPIに送信するための設定\n    const spreadsheetId = \"1yajpuM9YfEqlHgGbDxYVQOcHrFfJYoTho1b1qoOME6Y\";\n    const apiKey = \"your_api_key_here\";\n    const range = `シート1!I${userData[0]}`; // コメントがある列と行を指定\n\n    const url = `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${range}:append?valueInputOption=USER_ENTERED&key=${apiKey}`;\n    try {\n      const response = await fetch(url, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          values: [[editedComment]]\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to update spreadsheet\");\n      }\n      setIsEditing(false);\n      alert(\"Comment updated successfully.\");\n    } catch (error) {\n      console.error(\"Error:\", error);\n      alert(\"Failed to update comment.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sideMenu\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileSection\",\n      children: isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          multiline: true,\n          variant: \"outlined\",\n          value: editedComment,\n          onChange: e => setEditedComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 26\n          }, this),\n          onClick: handleSaveClick,\n          color: \"primary\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: originalComment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleEditClick,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n}\n_s(SideMenu, \"sSScyxLCeP54Xi8laFag8TKwfdU=\", false, function () {\n  return [useSelector];\n});\n_c = SideMenu;\nexport default SideMenu;\nvar _c;\n$RefreshReg$(_c, \"SideMenu\");","map":{"version":3,"names":["React","useState","useSelector","Button","TextField","SaveIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","SideMenu","_s","isEditing","setIsEditing","editedComment","setEditedComment","userData","state","auth","children","fileName","_jsxFileName","lineNumber","columnNumber","employeeNumber","originalComment","handleEditClick","handleSaveClick","spreadsheetId","apiKey","range","url","response","fetch","method","headers","body","JSON","stringify","values","ok","Error","alert","error","console","className","fullWidth","multiline","variant","value","onChange","e","target","startIcon","onClick","color","_c","$RefreshReg$"],"sources":["/Users/tatsuki/EmployeeManagementSystem/ems/src/components/SideMenu.tsx"],"sourcesContent":["// import React, { useState } from \"react\";\n// import { useSelector } from \"react-redux\";\n// import { RootState } from \"../store\";\n// import \"./SideMenu.css\";\n// import CloseIcon from \"@mui/icons-material/Close\";\n// import PersonIcon from \"@mui/icons-material/Person\";\n// import EditIcon from \"@mui/icons-material/Edit\";\n\n// function SideMenu() {\n//   const [isOpen, setIsOpen] = useState(false);\n\n//   // Redux ストアから従業員情報とプロファイル画像URLを取得\n//   const {\n//     employeeNumber,\n//     employeeName,\n//     employeeFurigana,\n//     employeeComment,\n//     employeeImg,\n//   } = useSelector((state: RootState) => {\n//     const userData = state.auth.userData || [];\n//     return {\n//       employeeNumber: userData[0] || \"\",\n//       employeeName: userData[1] || \"\",\n//       employeeFurigana: userData[2] || \"\",\n//       employeeImg: userData[5] || \"/Noimage.png\",\n//       employeeComment: userData[8] || \"\",\n//     };\n//   });\n\n//   const menuWidth = 350; // ここでサイドメニューの幅を定義\n\n//   const toggleMenu = () => {\n//     setIsOpen(!isOpen);\n//   };\n\n//   return (\n//     <>\n//       {/* オーバーレイ */}\n//       {isOpen && (\n//         <div\n//           className=\"overlay\"\n//           onClick={toggleMenu} // オーバーレイをクリックするとメニューが閉じる\n//         />\n//       )}\n\n//       <div className=\"menuToggleArea\">\n//         {/* メニュートグルボタン */}\n//         <button\n//           className=\"menuToggle\"\n//           onClick={toggleMenu}\n//           style={{\n//             left: isOpen ? `${menuWidth}px` : \"0\", // isOpenがtrueならメニューの幅の位置に、falseなら0の位置に\n//           }}\n//         >\n//           {isOpen ? (\n//             <p className=\"toogleText\">\n//               <CloseIcon />\n//               CLOSE\n//             </p>\n//           ) : (\n//             <p className=\"toogleText\">\n//               <PersonIcon />\n//               MY PAGE\n//             </p>\n//           )}\n//         </button>\n\n//         {/* サイドメニュー */}\n//         <div\n//           className=\"sideMenu\"\n//           style={{\n//             width: `${menuWidth}px`, // メニューの幅\n//             transform: isOpen ? \"translateX(0)\" : `translateX(-${menuWidth}px)`, // isOpenがtrueなら表示、falseなら隠す\n//           }}\n//         >\n//           {/* メニューコンテンツ */}\n//           <div className=\"SideProfileContainer\">\n//             <h1 className=\"sideTitle\">Profile</h1>\n//             <div className=\"editBtn\">\n//               <EditIcon />\n//             </div>\n//             <div className=\"profileImageContainer\">\n//               <img className=\"memberFhoto\" src={employeeImg} alt=\"Profile\" />\n//             </div>\n//             <p className=\"employeeNumber\">{employeeNumber}</p>\n//             <p className=\"employeeName\">{employeeName}</p>\n//             <p className=\"employeeFurigana\">{employeeFurigana}</p>\n//             <p className=\"employeeComment\">{employeeComment}</p>\n//           </div>\n//         </div>\n//       </div>\n//     </>\n//   );\n// }\n\n// export default SideMenu;\n\nimport React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../store\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport SaveIcon from \"@mui/icons-material/Save\";\n\nfunction SideMenu() {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedComment, setEditedComment] = useState(\"\");\n\n  // Redux ストアからユーザーデータを取得\n  const userData = useSelector((state: RootState) => state.auth.userData);\n\n  if (!userData) {\n    // userDataがnullまたは未定義の場合はローディングを表示\n    return <div>Loading...</div>;\n  }\n\n  const employeeNumber = userData[0];\n  const originalComment = userData[8];\n\n  const handleEditClick = () => {\n    setIsEditing(true);\n    setEditedComment(originalComment);\n  };\n\n  const handleSaveClick = async () => {\n    // スプレッドシートAPIに送信するための設定\n    const spreadsheetId = \"1yajpuM9YfEqlHgGbDxYVQOcHrFfJYoTho1b1qoOME6Y\";\n    const apiKey = \"your_api_key_here\";\n    const range = `シート1!I${userData[0]}`; // コメントがある列と行を指定\n\n    const url = `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${range}:append?valueInputOption=USER_ENTERED&key=${apiKey}`;\n\n    try {\n      const response = await fetch(url, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ values: [[editedComment]] }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to update spreadsheet\");\n      }\n\n      setIsEditing(false);\n      alert(\"Comment updated successfully.\");\n    } catch (error) {\n      console.error(\"Error:\", error);\n      alert(\"Failed to update comment.\");\n    }\n  };\n\n  return (\n    <div className=\"sideMenu\">\n      {/* サイドメニューの内容 */}\n      <div className=\"profileSection\">\n        {isEditing ? (\n          <>\n            <TextField\n              fullWidth\n              multiline\n              variant=\"outlined\"\n              value={editedComment}\n              onChange={(e) => setEditedComment(e.target.value)}\n            />\n            <Button\n              startIcon={<SaveIcon />}\n              onClick={handleSaveClick}\n              color=\"primary\"\n            >\n              Save\n            </Button>\n          </>\n        ) : (\n          <>\n            <p>{originalComment}</p>\n            <Button onClick={handleEditClick}>Edit</Button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default SideMenu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}